# ‚öôÔ∏è Configuration Files

Any configuration options that can be set via the command line can also be specified in the `nexploit` stanza of your package.json, or within a seperate configuration file. A variety of flavors are available:

| File name            | File Association |
| -------------------- | ---------------- |
| `.nexploit`          | JSON             |
| `.nexploit.json`     | JSON             |
| `.nexploit.yaml`     | YAML             |
| `.nexploit.yml`      | YAML             |
| `nexploit.config.js` | CommonJS export  |

You can set your configurations in any of the files listed above, or from the command line.

You can specify a path to a configuration file by using the `--config` option. By default, the CLI tries to discover a config `package.json` file in the root directory of your application, or one of the other known names in the working dir.

### üåé Section Map <!-- {docsify-ignore} -->

- [Example: Uploading Postman collection](#uploading-postman-collection)
- [Example: Crawler Scan](#crawler-scan)
- [Example: Pre-defined pool of tests](#pre-defined-pool-of-tests)
- [Example: Pre-defined Repeater settings](#pre-defined-repeater-settings)
- [Example: HAR generation from NexMock](#har-generation-from-nexmock)

<hr style="height:2px;background-color:#d1d3d4">


## üí° Examples

### Uploading Postman collection

Sometimes, you may want to upload Postman collection with a huge amount of variables. In such cases, you can load variables from the configuration file.

<!-- tabs:start -->

##### **JSON**

```json
{
  "discard": true,
  "type": "postman",
  "header": ["authorization: api-key my-api-key"],
  "variable": ["base-api-url: https://example.com/"]
}
```

##### **YAML**

```yaml
---
discard: true
type: postman
header:
  - 'authorization: api-key my-api-key'
variable:
  - 'base-api-url: https://example.com/'
  - 'some-secret: my-magic-number'
```

<!-- tabs:end -->

That lets you just issue the following command in your terminal:

```bash
nexploit-cli archive:upload \
  -t 75ngxdf.nexp.6kd4e9a6xcb2mbdfvnw76hnsqpyrf7wf \
  /home/ubuntu/collection.json
```
<hr style="height:2px;background-color:#d1d3d4">


### Crawler Scan

If you need to frequently scan multiple targets, you can specify them in the configuration file to avoid monkey typing.

<!-- tabs:start -->

##### **JSON**

```json
{
  "crawler": [
    "https://example.com",
    "https://nova.example.com",
    "https://pbs.example.com",
    "https://google.com"
  ],
  "name": "scan-name",
  "token": "my-api-key"
}
```


##### **YAML**

```yaml
---
crawler:
  - https://example.com
  - https://nova.example.com
  - https://pbs.example.com
  - https://google.com
name: scan-name
token: my-api-key
```

<!-- tabs:end -->

<hr style="height:2px;background-color:#d1d3d4">


### Pre-defined pool of tests

NexPloit CLI supports a huge amount of different tests to execute. Sometimes, it may be difficult to set up them via CLI options.
In such cases, you can set them via a configuration file.

<!-- tabs:start -->

##### **JSON**

```json
{
  "test": [
    "angular_csti",
    "jwt",
    "date_manipulation",
    "cookie_security",
    "csrf",
    "directory_listing",
    "dom_xss",
    "file_upload",
    "full_path_disclosure",
    "header_security",
    "http_method_fuzzing",
    "retire_js",
    "secret_tokens",
    "version_control_systems",
    "wordpress"
  ],
  "name": "scan-name",
  "token": "my-api-key"
}
```

##### **YAML**

```yaml
---
test:
- angular_csti
- jwt
- date_manipulation
- cookie_security
- csrf
- directory_listing
- dom_xss
- file_upload
- full_path_disclosure
- header_security
- http_method_fuzzing
- retire_js
- secret_tokens
- version_control_systems
- wordpress
name: scan-name
token: my-api-key
```

<!-- tabs:end -->

<hr style="height:2px;background-color:#d1d3d4">


### Pre-defined Repeater settings

<!-- tabs:start -->

##### **JSON**

```json
{
  "token": "my-jwt-authentication-token",
  "api": "https://nexploit.app",
  "bus": "amqps://amq.nexploit.app:5672",
  "proxy": "proxy-address"
}
```


##### **YAML**

```yaml
---
token: my-jwt-authentication-token
api: https://nexploit.app
bus: amqps://amq.nexploit.app:5672
proxy: proxy-address
```

<!-- tabs:end -->

<hr style="height:2px;background-color:#d1d3d4">


### HAR generation from NexMock

If you already have a prepared mock file, you can generate a HAR file with the following command:

```bash
nexploit-cli archive:generate \
  --output archive.har \
  --target url-tested-application \
  --header "Authorization: Bearer my-jwt-authentication-token" \
  .nexmock
```

Where `mockfile` is the path to your mockfile and `archive` is the path to save the HAR file to. The [archive:generate](#-generate-archive-based-on-nexmock) command will generate a new archive at the archive path:

```
Project
‚îú‚îÄ‚îÄ .nexploitrc       // CLI configuration
‚îú‚îÄ‚îÄ .nexmock          // your mock requests
‚îî‚îÄ‚îÄ archive.har       // generated HAR file
```

You also can edit the configuration file and add your own options, such as:

<!-- tabs:start -->

##### **JSON**

```json
{
  "output": "archive.har",
  "token": "my-jwt-authentication-token",
  "target": "url-tested-application",
  "header": [
    "Authorization: Bearer my-jwt-authentication-token"
  ]
}
```

##### **YAML**

```yaml
---
output: archive.har
token: my-jwt-authentication-token
target: url-tested-application
header:
- 'Authorization: Bearer my-jwt-authentication-token'
```

<!-- tabs:end -->

To get the same output you just need to issue the following command:

```bash
nexploit-cli archive:generate .nexmock
```
